define("text!src/_common/header/header.tpl.html",[],function(){return'<div class="header-inner">\n    <div class="pull-left">\n        <a href="#/" class="logo-icon"> </a>\n    </div>\n    <div class="menu-wrap">\n        <ul class="menu menu-horizontal">\n            <li data-target="home" class="to-home">\n                <a href="#/" target="_self"> <span></span>{{ HOME }}</a>\n            </li>\n            <li data-target="social">\n                <a href="#/social/2" target="_self"> <span></span>{{ SOCIAL }}</a>\n            </li>\n            <li data-target="campusClose">\n                <a href="campus.html" target="_blank"> <span></span>{{ SCHOOL }}</a>\n                <!-- <a href="http://talent.baidu.com/external/baidu/activityPage/haiwai/index.html" target="_blank"> <span></span>海外校招</a> -->\n            </li>\n            <li data-target="intern">\n                <a href="#/intern/12"> <span></span>{{ INTERN }}</a>\n            </li>\n            <li data-target="global-talent">\n                <a href="#/globalTalent" target="_blank"> <span></span>{{ GLOBAL_TALENT }}</a>\n            </li>\n            <li data-target="museum">\n                <a href="#/museum"> <span></span>{{ BIG_EVENT }}</a>\n            </li>\n        </ul>\n        <div id="header-blue-block"></div>\n    </div>\n    <div class="pull-right">\n        <div class="header-share-box">\n            <a class="weixin-icon"></a>\n            <a class="weibo-icon" href="http://weibo.com/baidujob" target="_blank"></a>\n            <div id="weixin-code" class="hide">\n                <img src="images/header/12cm.jpg">\n            </div>\n            <!-- <a class="edit-icon"></a> -->\n        </div>\n    </div>\n    <div class="pull-right">\n        <div class="header-account">\n             {{#if userName}} \n            <div class="islogin">\n                <label class="overflow-ellipsis" title="{{userName}}">\n                    Hi, {{userName}}\n                </label>\n                <a href="#/individualCenter">个人中心</a>\n                |\n                <a id="logout">退出</a>\n                <!-- <span id="expansion"> |<a>关注</a>  --><!-- |<a>反馈</a> --> <!-- </span> -->\n            </div>\n             {{else}} \n            <div class="unlogin">\n                <a class="login" href="#/login/">登录</a>\n                <span class="u-d">|</span>\n                <a class="register" href="#/login/register">注册</a>\n            </div>\n             {{/if}} \n        </div>\n    </div>\n</div>'}),define("text!src/_common/header/header-global.tpl.html",[],function(){return'<div class="header-inner">\n    <div class="pull-left">\n        <a href="#/globalTalent" class="logo-icon"> </a>\n    </div>\n    <div class="menu-wrap">\n        <ul class="menu menu-horizontal">\n            <li data-target="globalTalent" class="to-globalTalent">\n                <a href="#/globalTalent"> <span></span>Global Talent</a>\n            </li>\n            <li data-target="globalJob">\n                <a href="#/globalJob"> <span></span>Jobs</a>\n            </li>\n            <!-- <li data-target="index">\n        <a href="#/" target="_blank">\n          <span></span>\n          <label>Baidu China Talent</label>\n        </a>\n      </li> -->\n            <li data-target="">\n                <a href="http://ir.baidu.com/phoenix.zhtml?c=188488&p=irol-homeprofile" target="_blank"> <span>About Baidu</a>\n            </li>\n        </ul>\n        <div id="header-blue-block"></div>\n    </div>\n    <div class="pull-right">\n        <div class="header-account">\n             {{#if userName}} \n            <div class="islogin">\n                <label class="overflow-ellipsis" title="{{userName}}">\n                    Hi, {{userName}}\n                </label>\n                <a href="#/global/individualCenter">personal center</a>\n                |\n                <a id="logout">Logout</a>\n                <span id="expansion"> |<a href="http://weibo.com/baidujob" target="_blank">Follow Baidu Recruiting</a> <!-- |<a>反馈</a> --> </span>\n            </div>\n             {{else}} \n            <div class="islogin">\n                <a class="login" href="#/global/login/global/individualCenter">Log in</a>\n                | \n                <a class="register" href="#/global/login/register">Sign up</a>\n                | \n                <a href="http://weibo.com/baidujob" target="_blank">Follow Baidu Recruiting</a>\n                | \n                <a class="feedback">Feedback</a>\n                <div id="weixin-code" class="hide">\n                    <img src="images/header/12cm.jpg">\n                </div>\n            </div>\n             {{/if}} \n        </div>\n    </div>\n</div>'}),define("text!src/_common/header/header-campus.tpl.html",[],function(){return'<div class="header-inner">\n    <div class="pull-left">\n        <a href="#/campus" class="logo-icon"> </a>\n    </div>\n    <div class="menu-wrap">\n        <ul class="menu menu-horizontal">\n            <li data-target="campus" class="to-home">\n                <a href="#/campus" target="_self"> <span></span>{{ HOME }}</a>\n            </li>\n            <li data-target="campusJob">\n                <a href="#/jobList" target="_self"> <span></span>校招职位</a>\n            </li>\n            <li>\n                <a href="https://talent-fe.cdn.bcebos.com/activityPage/aidu2019/aidu.html" target="_blank"> <span></span>海外招聘</a>\n            </li>\n            <!-- <li data-target="campusProcess">\n                <a href="#/process" target="_self"> <span></span>招聘流程</a>\n            </li> -->\n            <li data-target="campusFeed">\n                <a href="#/feed" target="_self"> <span></span>招聘动态</a>\n            </li>\n            <li data-target="campusMuseum">\n                <a href="#/museum" target="_self"> <span></span>{{ BIG_EVENT }}</a>\n            </li>\n            <li data-target="campusIndividualCenter">\n                <a href="#/individualCenter" target="_self"> <span></span>个人中心</a>\n            </li>\n        </ul>\n        <div id="header-blue-block"></div>\n    </div>\n    <div class="pull-right">\n        <div class="header-share-box">\n            <a class="weixin-icon"></a>\n            <a class="weibo-icon" href="http://weibo.com/baidujob" target="_blank"></a>\n            <div id="weixin-code" class="hide">\n                <img src="images/header/12cm.jpg">\n            </div>\n            <!-- <a class="edit-icon"></a> -->\n        </div>\n    </div>\n    <div class="pull-right">\n        <div class="header-account">\n             {{#if userName}} \n            <div class="islogin">\n                <label class="overflow-ellipsis" title="{{userName}}">\n                    Hi, {{userName}}\n                </label>\n                <a href="#/individualCenter">个人中心</a>\n                |\n                <a id="logout">退出</a>\n                <!-- <span id="expansion"> |<a>关注</a>  --><!-- |<a>反馈</a> --> <!-- </span> -->\n            </div>\n             {{else}} \n            <div class="unlogin">\n                <a class="login" href="#/login/campus">登录</a>\n                <span class="u-d">|</span>\n                <a class="register" href="#/login/register">注册</a>\n            </div>\n             {{/if}} \n        </div>\n    </div>\n</div>'}),define("src/i18n/header",{"en-us":{HOME:"Home",SOCIAL:"Social",SCHOOL:"School",INTERN:"Intern",GLOBAL_TALENT:"Global Talent",BIG_EVENT:"About Baidu"},"zh-cn":{HOME:"首页",SOCIAL:"社会招聘",SCHOOL:"校园招聘",INTERN:"实习生招聘",GLOBAL_TALENT:"Global Talent",BIG_EVENT:"了解百度"}}),define("src/_common/header/headerView",["backbone","text!src/_common/header/header.tpl.html","text!src/_common/header/header-global.tpl.html","text!src/_common/header/header-campus.tpl.html","underscore","jquery","src/_common/i18nCtrl/languageLoader","src/i18n/header","handlebars","siteData","src/login/sync","storeJs","require"],function(e,t,n,r,i,s,o,u,a,f,l,c,h){var p=100,d=400,v=17,m="#header-blue-block",g="active",y="narrow",b="black",w="display",E="global",S="campus",x="hide",T="lv-2",N={},C="",k=e.View.extend({el:".header",events:{"mouseenter .menu-horizontal>li>a":"moveToHover","mouseleave .menu-horizontal":"mouseLeaveMenu","mouseenter .weixin-icon,.feedback":"toggleWXCode","mouseleave .weixin-icon,.feedback":"toggleWXCode","click #logout":"logout"},initialize:function(){var t=this;this.timeout="",this.pageStatus="",this.model=new e.Model,this.model.on("LOGOUT_SUCCESS",function(){delete f.userData,delete N.userName,t.dealLogStatus()}),this.model.on("RENDER",function(){})},render:function(){var e=this.$el=s(this.el);this.renderTemp=this.renderTemp||t,N=i.extend(N,o.getLocalData(u)),C=a.compile(this.renderTemp),this.template=C(N),e.html(this.template),this.hoverBlock=this.$(m)},hide:function(){this.$el.addClass("hide")},show:function(){this.$el.removeClass("hide")},adjustStyle:function(){var e=this.status,s="",o=f.globalPages,u=f.campusPages,a,l,c;i.indexOf(o,e)!==-1?s=n:i.indexOf(u,e)!==-1?s=r:s=t,s!==this.renderTemp&&(this.renderTemp=s),this.render(),this.$("."+g).removeClass(g),this.$('li[data-target="'+e+'"]').addClass(g);switch(e){case"home":this.show(),this.home();break;case"globalLogin":case"login":this.hide();break;default:s===n?this.globalView(e):s===r?this.campusView(e):this.defaultView(),this.show()}a=this.$("li.active a"),a.length>0?(l=a.position().left,c=a.width(),l+=v,this.hoverBlock.stop().css({display:"inline-block",left:l+"px",width:c+"px"})):this.hoverBlock.stop().css({display:"none"})},home:function(){var e=s(this.el),t=e.find("#expansion"),n=this.$(".unlogin");e.find("."+y).removeClass(y),t.css(w,"none"),e.removeClass(b+" "+E+" "+S),n.removeClass(T)},defaultView:function(){var e=s(this.el),t=this.$("#expansion"),n=this.$(".unlogin");this.$(".header-inner").addClass(y),t.css(w,"inline-block"),e.addClass(b),e.removeClass(E+" "+S),n.addClass(T)},globalView:function(e){s(this.el).addClass(E+" "+b).removeClass(S),e==="globalJob"?this.$(".header-inner").addClass("narrow"):this.$(".header-inner").removeClass("narrow")},campusView:function(e){s(this.el).removeClass(E+" "+b).addClass(S),e==="campus"?this.$(".header-inner").removeClass("narrow"):(this.$(".header-inner").addClass("narrow"),s(this.el).addClass(b))},dealLogStatus:function(){var e=h("router");f.userData?this.adjustStyle():f.needLoginPages.indexOf(this.status)===-1?this.adjustStyle():e.navigate("#/",{trigger:!0})},moveToHover:function(e){var t=s(e.target),n=this.hoverBlock,r=t.position().left&&!t.is("a")?t.closest("a").position().left:t.position().left,i=t.is("a")?t.width():t.closest("a").width();r+=v,n.css(w)==="none"?n.stop().css({display:"inline-block",left:r+"px",width:i+"px"}):(clearTimeout(this.tiemout),this.tiemout=setTimeout(function(){n.stop().animate({left:r+"px",width:i+"px"},d)},p))},updateLS:function(){function t(e){var t=e.length,n=t*.3/2,r=Math.ceil(t/2-n),i=Math.ceil(t/2+n);return t<4?e:e.slice(0,r)+e.slice(r,i).replace(/./g,"*")+e.slice(i,t)}var e=this;this.model.once("IS_LOGOUT IS_LOGIN",function(){e.model.get("code")===0?(f.userData={},N.userName=f.userName=t(this.get("userName"))):(f.userData={},N.userName=f.userName="",c.remove("USERNAME")),e.model.trigger("USERDATA_READY")}),this.model.fetch(l.checkLoginStatus())},changeShow:function(e){var t=this;this.status=e!=="index"?e:"home",this.model.once("USERDATA_READY",function(){t.adjustStyle()}),this.updateLS()},logout:function(){var e=this;s.ajax({url:"/baidu/web/httpservice/userLoginType",type:"GET",success:function(t,n,r){n.type!==0&&window.location.replace("https://passport.baidu.com/?logout&u="+window.location.href),e.model.fetch(l.logout())},error:function(e,t){e.trigger("LOGOUT_ERROR")}})},toggleWXCode:function(){var e=this.$("#weixin-code"),t=e.hasClass(x);t?e.removeClass(x):e.addClass(x)},mouseLeaveMenu:function(){var e=this.hoverBlock,t=this.$("li.active a"),n,r;t.length>0?(n=t.position().left+v,r=t.width(),clearTimeout(this.tiemout),this.tiemout=setTimeout(function(){e.stop().animate({left:n+"px",width:r+"px"},d)},p)):e.stop().css({display:"none"})}});return new k});